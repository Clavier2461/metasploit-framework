Calling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated. Please call `DidYouMean.correct_error(error_name, spell_checker)' instead.
Calling `DidYouMean::SPELL_CHECKERS.merge!(error_name => spell_checker)' has been deprecated. Please call `DidYouMean.correct_error(error_name, spell_checker)' instead.
Overriding user environment variable 'OPENSSL_CONF' to enable legacy functions.
[4mmsf6[0m [0m> loadpath test/modules
Loaded 43 modules:
    14 auxiliary modules
    13 exploit modules
    16 post modules
[4mmsf6[0m [0m> features set mssql_session_type true
mssql_session_type => true
[!] Run the save command and restart the console for this feature to take effect.
[4mmsf6[0m [0m> use auxiliary/scanner/mssql/mssql_login
[*] New in Metasploit 6.4 - The CreateSession option within this module can open an interactive session
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_login[0m) [0m> irb -e '(self.respond_to?(:framework) ? framework : self).datastore.user_defined.clear'
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_login[0m) [0m> run PASS_FILE= USER_FILE= CreateSession=true username=sa password=yourStrong(!)Password rhost=127.0.0.1 rport=1433 database=master
[*] 127.0.0.1:1433        - 127.0.0.1:1433 - MSSQL - Starting authentication scanner.
[!] 127.0.0.1:1433        - No active DB -- Credential data will not be saved!
[+] 127.0.0.1:1433        - 127.0.0.1:1433 - Login Successful: WORKSTATION\sa:yourStrong(!)Password
[*] MSSQL session 1 opened (127.0.0.1:37063 -> 127.0.0.1:1433) at 2024-05-16 08:44:32 +0000
use auxiliary/admin/mssql/mssql_enum
[*] 127.0.0.1:1433        - Scanned 1 of 1 hosts (100% complete)
[*] 127.0.0.1:1433        - Bruteforce completed, 1 credential was successful.
[*] 127.0.0.1:1433        - 1 MSSQL session was opened successfully.
[*] Auxiliary module execution completed
[4mmsf6[0m auxiliary([1m[31mscanner/mssql/mssql_login[0m) [0m> run session=1 Verbose=true
[*] New in Metasploit 6.4 - This module can target a SESSION or an RHOST
[4mmsf6[0m auxiliary([1m[31madmin/mssql/mssql_enum[0m) [0m> [*] Running MS SQL Server Enumeration...
[*] Using existing session 1
[*] Version:
[*]	Microsoft SQL Server 2019 (RTM-CU26) (KB5035123) - 15.0.4365.2 (X64) 
[*]		Mar 29 2024 23:02:47 
[*]		Copyright (C) 2019 Microsoft Corporation
[*]		Developer Edition (64-bit) on Linux (Ubuntu 20.04.6 LTS) <X64>[*] Configuration Parameters:
[*] 	C2 Audit Mode is Not Enabled
[*] 	xp_cmdshell is Not Enabled
[*] 	remote access is Enabled
[*] 	allow updates is Not Enabled
[*] 	Database Mail XPs is Not Enabled
[*] 	Ole Automation Procedures are Not Enabled
[*] Databases on the server:
[*] 	Database name:master
[*] 	Database Files for master:
[*] 		/var/opt/mssql/data/master.mdf
[*] 		/var/opt/mssql/data/mastlog.ldf
[*] 	Database name:tempdb
[*] 	Database Files for tempdb:
[*] 		/var/opt/mssql/data/tempdb.mdf
[*] 		/var/opt/mssql/data/templog.ldf
[*] 		/var/opt/mssql/data/tempdb2.ndf
[*] 		/var/opt/mssql/data/tempdb3.ndf
[*] 		/var/opt/mssql/data/tempdb4.ndf
[*] 	Database name:model
[*] 	Database Files for model:
[*] 		/var/opt/mssql/data/model.mdf
[*] 		/var/opt/mssql/data/modellog.ldf
[*] 	Database name:msdb
[*] 	Database Files for msdb:
[*] 		/var/opt/mssql/data/MSDBData.mdf
[*] 		/var/opt/mssql/data/MSDBLog.ldf
[*] System Logins on this Server:
[*] 	sa
[*] 	##MS_SQLResourceSigningCertificate##
[*] 	##MS_SQLReplicationSigningCertificate##
[*] 	##MS_SQLAuthenticatorCertificate##
[*] 	##MS_PolicySigningCertificate##
[*] 	##MS_SmoExtendedSigningCertificate##
[*] 	##MS_PolicyEventProcessingLogin##
[*] 	##MS_PolicyTsqlExecutionLogin##
[*] 	##MS_AgentSigningCertificate##
[*] 	BUILTIN\Administrators
[*] 	NT AUTHORITY\NETWORK SERVICE
[*] 	NT AUTHORITY\SYSTEM
[*] Disabled Accounts:
[*] 	##MS_PolicyEventProcessingLogin##
[*] 	##MS_PolicyTsqlExecutionLogin##
[*] No Accounts Policy is set for:
[*] 	All System Accounts have the Windows Account Policy Applied to them.
[*] Password Expiration is not checked for:
[*] 	sa
[*] 	##MS_PolicyEventProcessingLogin##
[*] 	##MS_PolicyTsqlExecutionLogin##
[*] System Admin Logins on this Server:
[*] 	sa
[*] 	BUILTIN\Administrators
[*] 	NT AUTHORITY\NETWORK SERVICE
[*] Windows Logins on this Server:
[*] 	NT AUTHORITY\NETWORK SERVICE
[*] 	NT AUTHORITY\SYSTEM
[*] Windows Groups that can logins on this Server:
[*] 	BUILTIN\Administrators
[*] Accounts with Username and Password being the same:
[*] 	No Account with its password being the same as its username was found.
[*] Accounts with empty password:
[*] 	No Accounts with empty passwords where found.
[*] Stored Procedures with Public Execute Permission found:
[*] 	sp_replsetsyncstatus
[*] 	sp_replcounters
[*] 	sp_replsendtoqueue
[*] 	sp_resyncexecutesql
[*] 	sp_prepexecrpc
[*] 	sp_repltrans
[*] 	sp_xml_preparedocument
[*] 	xp_qv
[*] 	xp_getnetname
[*] 	sp_releaseschemalock
[*] 	sp_refreshview
[*] 	sp_replcmds
[*] 	sp_unprepare
[*] 	sp_resyncprepare
[*] 	sp_createorphan
[*] 	xp_dirtree
[*] 	sp_replwritetovarbin
[*] 	sp_replsetoriginator
[*] 	sp_xml_removedocument
[*] 	sp_repldone
[*] 	sp_reset_connection
[*] 	xp_fileexist
[*] 	xp_fixeddrives
[*] 	sp_getschemalock
[*] 	sp_prepexec
[*] 	xp_revokelogin
[*] 	sp_execute_external_script
[*] 	sp_resyncuniquetable
[*] 	sp_replflush
[*] 	sp_resyncexecute
[*] 	xp_grantlogin
[*] 	sp_droporphans
[*] 	xp_regread
[*] 	sp_getbindtoken
[*] 	sp_replincrementlsn
[*] Instances found on this server:
[*] 	MSSQLSERVER
[*] Default Server Instance SQL Server Service is running under the privilege of:
[*] 	LocalSystem
[*] Auxiliary module execution completed
sessions -K
[4mmsf6[0m auxiliary([1m[31madmin/mssql/mssql_enum[0m) [0m> jobs -K
[*] Killing all sessions...
[*] 127.0.0.1 - MSSQL session 1 closed.
[4mmsf6[0m auxiliary([1m[31madmin/mssql/mssql_enum[0m) [0m> 